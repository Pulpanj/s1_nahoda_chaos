---
title: "Untitled"
format: html
---


<!-- 

``{python}
#| tbl-cap: "Tabulka pravdÄ›podobnostÃ­ 6-ky v k-tÃ©m hodu"
#| label: tbl-pk
import pandas as pd

k=list([])
pk=list([])
kmax=100
for kk in range(1,kmax+1):
    k.append(kk)
    p=(5/6)**(kk-1)/6
    pk.append(p)
# print(pk)
df=pd.DataFrame(
    zip(k,pk)
    , columns=['k', 'P(k)']
    )
df.set_index('k', inplace=True)    
df['Sum(P(k))']=df['P(k)'].cumsum()

# Define a list of indices to filter
list_to_print = list(range(1,11))+[20,30,40,50,80,100]
df[df.index.isin(list_to_print)]
```

```{julia}

```


### NÃ¡hodnÃ¡ veliÄina K: poÅ™adÃ­ hodu kdy, poprvÃ© padne 6-ka 

NechÅ¥ $K$ oznaÄuje poÅ™adÃ­ hodu kdy, prvnÄ› padla 6-ka.  

$K$ je nÃ¡hodnÃ¡ veliÄina nabyvajici hodnot 1,2,..., majÃ­cÃ­ stÅ™ednÃ­ hodnotu
oznaÄovanou $\mathbb{E}[K]$.

$$
\mathbb{E}[K] = \sum_{i=1}^{\infty} \frac{1}{6} \cdot i \cdot \left(\frac{5}{6}\right)^{i-1}
$$

Tento souÄet odpovÃ­dÃ¡ oÄekÃ¡vanÃ© hodnotÄ› geometrickÃ©ho rozdÄ›lenÃ­ s
pravdÄ›podobnostÃ­ ÃºspÄ›chu $p = \frac{1}{6}$.

```{python}
#| tbl-cap: "Tabulka aproximace stÅ™ednÃ­ hodnoty pomocÃ­ prvnÃ­ch 1..i moÅ¾nÃ½ch hodnot"
#| label: tbl-eki
import pandas as pd

i=list([])
pi=list([])
SumP=list([])
Ek=list([])
Nmax=100

sumPi=0.
Eki=0.
for ii in range(1,Nmax+1):
    i.append(ii)
    p=(5/6)**(ii-1)/6
    pi.append(p)
    sumPi=sumPi+p
    SumP.append(sumPi)
    Eki=Eki+p*ii
    Ek.append(Eki)
df=pd.DataFrame(
    zip(i,pi,SumP,Ek)
    , columns=['i','P(i)', 'Sum(P(i))', 'E[K] i-th aproximace']
    )
df.set_index('i', inplace=True)        
# Define a list of indices to print
list_to_print = list(range(1,11))+[20,30,40,50,80,100]
df[df.index.isin(list_to_print)]
```

```{python}
#| code-fold: true
#| code-summary: "Show code"
#| fig-cap: "Aproximace stÅ™ednÃ­ hodnoty E[k] pomocÃ­ prvnÃ­ch 1..i moÅ¾nÃ½ch hodnot"
#| fig-scap: "Aproximace stÅ™ednÃ­ hodnoty Ek[K]"
import matplotlib.pyplot as plt
dfg=df.head(50)
ax1 = dfg.plot.line(
    # x='i', 
    y='E[K] i-th aproximace', 
    rot=0, color='red', title="Konvergence stÅ™ednÃ­ hodnoty E[K] z prvnÃ­ch 1..i hodnot"
    )
plt.xlabel("i")
x=list(range(0,81,10))
plt.xticks(x)
plt.grid()
plt.ylabel("E[K] i-th aproximace")

# Create the second y-axis
ax2 = ax1.twinx()
ax2.set_ylabel('P(i)/Sum(P(i))', color='skyblue')
ax2.tick_params(axis='y', labelcolor='skyblue')

ax2.bar(x=dfg.index,height= dfg['P(i)'], color='skyblue', alpha=0.5,label='P(i)')
legend1 = ax1.legend(loc='center right')
ax1.add_artist(legend1)
legend2 = ax2.legend(loc='center')
ax2.add_artist(legend2)

plt.show()
```

## StÅ™ednÃ­ hodnota $\mathbb{E}[K]$ nÃ¡hodnÃ© veliÄiny poÅ™adÃ­ hodu s prvnÃ­ 6-kou

#### PÅ™Ã­prava 1: souÄet geometrickÃ© Å™ady 

KoneÄnÃ¡ geometrickÃ¡ Å™ada:
$$
\sum_{i=1}^{k} q^i
$$

Tato Å™ada mÃ¡ prvnÃ­ Älen $q$, kvocient $q$, a obsahuje $k$ ÄlenÅ¯. OdvozenÃ­ je jednoduchÃ© a elegantnÃ­.

1. ZapiÅ¡ Å™adu:
$$
S = q + q^2 + q^3 + \dots + q^k
$$

2. VynÃ¡sob obÄ› strany kvocientem $q$:
$$
qS = q^2 + q^3 + \dots + q^{k+1}
$$

3. OdeÄti druhou rovnici od prvnÃ­:
$$
S - qS = q - q^{k+1}
$$

4. VyjÃ¡dÅ™i $S$:
$$
S(1 - q) = q(1 - q^k) \quad \Rightarrow \quad S = \frac{q(1 - q^k)}{1 - q}
$$

__âœ… VÃ½sledek:__
$$
\sum_{i=1}^{k} q^i = \frac{q(1 - q^k)}{1 - q}, \quad \text{pro } q \ne 1
$$

__ðŸ“Š NekoneÄnÃ¡ geometrickÃ¡ Å™ada:__

A pokud  $q \lt 1$ konverguje i nekoneÄnÃ¡ geometrickÃ¡ Å™ada 

$$
\sum_{i=1}^{\infty} q^i = \frac{q}{1 - q}, \quad \text{pro } |q| < 1
$$

#### PÅ™Ã­prava 2: souÄet  Å™ady s Äleny $i \cdot q^i$

SouÄet Å™ady ve tvaru:

$$
\sum_{i=1}^{\infty} i \cdot q^i
$$

1. Lze odvodit z derivace geometrickÃ© Å™ady:

$$
\sum_{i=0}^{\infty} q^i = \frac{1}{1 - q}
$$

2. KdyÅ¾ tuto Å™adu zderivujeme podle $q$, dostaneme prÃ¡vÄ›:

$$
\sum_{i=1}^{\infty} i \cdot q^{i-1} = \frac{1}{(1 - q)^2}
$$

3. A kdyÅ¾ ji vynÃ¡sobÃ­me $q$, dostaneme vzorec:

$$
\sum_{i=1}^{\infty} i \cdot q^i = \frac{q}{(1 - q)^2}
$$

_Tento vzorec platÃ­ pouze pro$|q| < 1$, tedy kdyÅ¾ se jednÃ¡ o konvergentnÃ­ geometrickou Å™adu._

#### StÅ™ednÃ­ hodnota geometrickÃ©ho rozdÄ›lenÃ­ 

Pro geometrickÃ© rozdÄ›lenÃ­ (poÄÃ­tanÃ© od $i = 1$):

$$
\begin{align}
\mathbb{E}[X]  &= \sum_{i=1}^{\infty} i \cdot p \cdot (1 - p)^{i - 1} 
    &= p \cdot \frac{1}{q} \cdot  \sum_{i=1}^{\infty} i  \cdot (q)^{i} = p \cdot \frac{1}{q} \cdot \frac{q}{(1 - q)^2}
    = \frac{1}{p}
\end{align}
$$

Kde:

- $q=(1 - p)$

V naÅ¡em pÅ™Ã­padÄ›:
- $p = \frac{1}{6}$

__ðŸ“ŠTakÅ¾e stÅ™ednÃ­ hodnota poÅ™adÃ­ hodu do prvnÃ­ 6-ky je:__

$$
\mathbb{E}[K] =6
$$ 

-->
